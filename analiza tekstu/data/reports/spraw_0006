przedmiot TAS temat A nr_indeksu 384119 liczba_pkt 4 

\n\nZadanie\ 1\ -------------------------------------\n(s384119@pc23b:~/Desktop/TAS/LematA/1\$\ rpcgen\ -aC\ plik.x\n\nstruct\ Macierz\ \{\n\tstruct\ \{\n\t\tu_int\ Elem_len\;\n\t\tfloat\ *Elem_val\;\n\t\}\ Elem\;\n\tint\ IleW\;\n\tint\ IleK\;\n\}\;\n\nPowy¿ej\ mo¿na\ zobaczyæ\ macierz\ wygenerowan±\ przez\ jêzyk\ C.\n)\n\nZadanie\ 2\ -------------------------------------\n(s384119@pc23k:~/Desktop/TAS/LematA/2\$\ rpcgen\ -aC\ sum.x\n\n#sum_client.c\n\n#include\ \"sum.h\"\n#include\ <stdlib.h>\n#include\ <stdio.h>\n\nprogservice_1(char\ *host,int\ a,int\ b)\n\{\n\tCLIENT\ *clnt\;\n\tint\ \ *result_1\;\n\tParaLi\ \ suma_1_arg\;\n\t\n\tsuma_1_arg.x1=a\;//specify\ the\ values\n\ \ \ \ suma_1_arg.x2=b\;//specify\ the\ values\n\n//\nprintf(\"the\ sum\ is\ %d\\n\",*result_1)\;//printing\ the\ result\n//\n\nmain\ (int\ argc,\ char\ *argv\[\])\n\{\n\tchar\ *host\;\n\tint\ a\;\n\tint\ b\;\n\n\tif\ (argc\ <\ 2)\ \{\n\t\tprintf\ (\"usage:\ %s\ server_host\\n\",\ argv\[0\])\;\n\t\texit\ (1)\;\n\t\}\n\thost\ =\ argv\[1\]\;\n\ta\ =\ atoi(argv\[2\])\;\n\tb\ =\ atoi(argv\[3\])\;\n\tprogservice_1\ (host,a,b)\;\nexit\ (0)\;\n\}\n\n#ifndef\tDEBUG\n\n#sum_server.c\n\nsuma_1_svc(ParaLi\ *argp,\ struct\ svc_req\ *rqstp)\n\{\n\tstatic\ int\ \ result\;\n\n\tresult=argp->x1+argp->x2\;\n\n\treturn\ &result\;\n\}\n\ns384119@pc23k:~/Desktop/TAS/LematA/2\$\ make\ -f\ Makefile.sum\ncc\ -g\ \ \ \ -c\ -o\ sum_xdr.o\ sum_xdr.c\ncc\ -g\ \ \ \ \ -o\ sum_client\ \ sum_clnt.o\ sum_client.o\ sum_xdr.o\ -lnsl\ \ncc\ -g\ \ \ \ -c\ -o\ sum_svc.o\ sum_svc.c\ncc\ -g\ \ \ \ -c\ -o\ sum_server.o\ sum_server.c\ncc\ -g\ \ \ \ \ -o\ sum_server\ \ sum_svc.o\ sum_server.o\ sum_xdr.o\ -lnsl\n\ns384119@pc23k:~/Desktop/TAS/LematA/2\$\ ./sum_server\ &\n\[1\]\ 4567\ns384119@pc23k:~/Desktop/TAS/LematA/2\$\ ^C\n\ns384119@pc23k:~/Desktop/TAS/LematA/2\$\ ./sum_client\ localhost\ 611\ 921\nthe\ sum\ is\ 1532\n\n)\n\nZadanie\ 3\ -------------------------------------\n(\nusuniêcie\ z\ plik.x\ linijek:\ \n\tstruct\ TrzyMacierze\ \{\ Mac\ M1\;\ Mac\ M2\;\ Mac\ M3\;\ \}\;\n\ttypedef\ struct\ TrzyMacierze\ TrzyMac\;\n\t---\n\tvoid\ OperacjaNaMacierzach(TrzyMac)\ =\ 2\;\n\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ rpcgen\ -aC\ plik.x\n\n#plik_client.c\n\n#include\ \"plik.h\"\n#include\ <stdio.h>\n\nvoid\nprogmacierze_1(char\ *host)\n\{\n\tCLIENT\ *clnt\;\n\tvoid\ \ *result_1\;\n\tMac\ \ pokazmacierz_1_arg\;\n\tprintf(\"IleW:\ \\n\")\;\n\tscanf(\"%i\",\ &pokazmacierz_1_arg.IleW)\;\n\tprintf(\"IleK:\ \\n\")\;\n\tscanf(\"%i\",\ &pokazmacierz_1_arg.IleK)\;\n\t\n\tpokazmacierz_1_arg.Elem.Elem_len\ =\ pokazmacierz_1_arg.IleW\ *\ pokazmacierz_1_arg.IleK\;\n\tpokazmacierz_1_arg.Elem.Elem_val\ =\ calloc(pokazmacierz_1_arg.Elem.Elem_len,\ sizeof(float))\;\n\n\tint\ i\;\n\tfor\ (i\ =\ 0\;\ i\ <\ pokazmacierz_1_arg.Elem.Elem_len\;\ i++)\ \{\n\t\tprintf(\"Give\ elements\ %i\\n\",\ i)\;\n\t\tfloat\ x=0\;\n\t\tscanf(\"%f\",\ &x)\;\n\t\tpokazmacierz_1_arg.Elem.Elem_val\[i\]\ =\ x\;\n\t\}\n\n#plik_server.c\n\n#include\ \"plik.h\"\n#include\ <stdio.h>\n\nvoid\ *\npokazmacierz_1_svc(Mac\ *argp,\ struct\ svc_req\ *rqstp)\n\{\n\tstatic\ char\ *\ result\;\n\n\tint\ i\;\n\tprintf(\"\\n\")\;\n\tint\ n\ =\ argp->IleW\ -\ 1\;\n\tfor\ (i=0\;\ i\ <\ argp->IleW\ *\ argp->IleK\;\ i++)\ \{\n\t\tprintf(\"%f\ \",\ argp->Elem.Elem_val\[i\])\;\n\t\tif\ (i\ ==\ n)\ \{\n\t\tprintf(\"\\n\")\;\n\t\tn\ =\ n+argp->IleW\;\n\t\t\}\n\t\}\n\n\treturn\ (void\ *)\ &result\;\n\}\n\n\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ make\ -f\ Makefile.plik\ \ncc\ -g\ \ \ \ -c\ -o\ plik_clnt.o\ plik_clnt.c\ncc\ -g\ \ \ \ -c\ -o\ plik_client.o\ plik_client.c\ncc\ -g\ \ \ \ -c\ -o\ plik_xdr.o\ plik_xdr.c\ncc\ -g\ \ \ \ \ -o\ plik_client\ \ plik_clnt.o\ plik_client.o\ plik_xdr.o\ -lnsl\ \ncc\ -g\ \ \ \ -c\ -o\ plik_svc.o\ plik_svc.c\ncc\ -g\ \ \ \ -c\ -o\ plik_server.o\ plik_server.c\ncc\ -g\ \ \ \ \ -o\ plik_server\ \ plik_svc.o\ plik_server.o\ plik_xdr.o\ -lnsl\n\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ ./plik_server\ &\n\[4\]\ 2840\n\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ ./plik_client\ localhost\nIleW:\ \n4\nIleK:\ \n3\nGive\ elements\ 0\n1\nGive\ elements\ 1\n2\nGive\ elements\ 2\n3\nGive\ elements\ 3\n4\nGive\ elements\ 4\n5\ \nGive\ elements\ 5\n6\nGive\ elements\ 6\n7\nGive\ elements\ 7\n8\nGive\ elements\ 8\n9\nGive\ elements\ 9\n10\nGive\ elements\ 10\n11\nGive\ elements\ 11\n12\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ \n\n\n---server\n\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ \n1.000000\ 2.000000\ 3.000000\ 4.000000\ \n5.000000\ 6.000000\ 7.000000\ 8.000000\ \n9.000000\ 10.000000\ 11.000000\ 12.000000\ \n^C\ns384119@pc14c:~/Desktop/TAS/LematA/3\$\ \n\n)\n\nZadanie\ 4\ -------------------------------------\n(\n---plik.x:\n\nstruct\ Macierz\ \{\n\ \ float\ Elem\ <>\;\n\ \ int\ IleW\;\ int\ IleK\;\n\}\;\ntypedef\ struct\ Macierz\ Mac\;\n\nstruct\ TrzyMacierze\ \{\ Mac\ M1\;\ Mac\ M2\;\}\;\ntypedef\ struct\ TrzyMacierze\ TrzyMac\;\n\nprogram\ ProgMacierze\ \{\n\ \ version\ VerMacierze\ \{\n\ \ \ \ Mac\ operation(TrzyMac)\ =\ 1\;\n\ \ \}\ =\ 1\;\n\}\ =\ 0x21001234\;\n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ rpcgen\ -aC\ plik.x\n\n#plik_client.c\n\n\{\n\tCLIENT\ *clnt\;\n\tMac\ \ *result_1\;\n\tTrzyMac\ \ operation_1_arg\;\n\n\tprintf(\"MATRIX\ 1:\ \\n\")\;\n\tprintf(\"W:\ \\n\")\;\n\tscanf(\"%i\",\ &operation_1_arg.M1.IleW)\;\n\toperation_1_arg.M2.IleW\ =\ operation_1_arg.M1.IleW\;\n\tint\ w\ =\ \ operation_1_arg.M1.IleW\;\n\tprintf(\"K:\ \\n\")\;\n\tscanf(\"%i\",\ &operation_1_arg.M1.IleK)\;\n\toperation_1_arg.M2.IleK\ =\ operation_1_arg.M1.IleK\;\n\t\n\toperation_1_arg.M1.Elem.Elem_len\ =\ operation_1_arg.M1.IleW\ *\ operation_1_arg.M1.IleK\;\n\toperation_1_arg.M1.Elem.Elem_val\ =\ calloc(operation_1_arg.M1.Elem.Elem_len,\ sizeof(float))\;\n\n\tint\ i\;\n\tfor\ (i\ =\ 0\;\ i\ <\ operation_1_arg.M1.Elem.Elem_len\;\ i++)\ \{\n\t\tprintf(\"Give\ element\ M1\ %i\\n\",\ i)\;\n\t\tfloat\ x\ =\ 0\;\n\t\tscanf(\"%f\",\ &x)\;\n\t\toperation_1_arg.M1.Elem.Elem_val\[i\]\ =\ x\;\n\t\}\n\n\tprintf(\"MATRIX\ 2:\ \\n\")\;\n\t\n\toperation_1_arg.M2.Elem.Elem_len\ =\ operation_1_arg.M2.IleW\ *\ operation_1_arg.M2.IleK\;\n\toperation_1_arg.M2.Elem.Elem_val\ =\ calloc(operation_1_arg.M2.Elem.Elem_len,\ sizeof(float))\;\n\n\ti\ =\ 0\;\n\tfor\ (i\ =\ 0\;\ i\ <\ operation_1_arg.M2.Elem.Elem_len\;\ i++)\ \{\n\t\tprintf(\"Give\ element\ M2\ %i\\n\",\ i)\;\n\t\tfloat\ x\ =\ 0\;\n\t\tscanf(\"%f\",\ &x)\;\n\t\toperation_1_arg.M2.Elem.Elem_val\[i\]\ =\ x\;\n\t\}\n\n\n#ifndef\tDEBUG\n\tclnt\ =\ clnt_create\ (host,\ ProgMacierze,\ VerMacierze,\ \"udp\")\;\n\tif\ (clnt\ ==\ NULL)\ \{\n\t\tclnt_pcreateerror\ (host)\;\n\t\texit\ (1)\;\n\t\}\n#endif\t/*\ DEBUG\ */\n\n\tresult_1\ =\ operation_1(&operation_1_arg,\ clnt)\;\n\ti\ =\ 0\;\n\tint\ n\ =\ w\ -\ 1\;\n\tprintf(\"Result:\\n\")\;\n\tfor\ (i\ =\ 0\;\ i\ <\ result_1->Elem.Elem_len\;\ i++)\ \{\n\t\tprintf(\"%f\ \",\ result_1->Elem.Elem_val\[i\])\;\n\t\tif\ (i\ ==\ n)\ \{\n\t\tprintf(\"\\n\")\;\n\t\tn\ =\ n+w\ \;\n\t\t\}\n\t\}\n\tif\ (result_1\ ==\ (Mac\ *)\ NULL)\ \{\n\t\tclnt_perror\ (clnt,\ \"call\ failed\")\;\n\t\}\n\tprintf(\"\\n\")\;\n#ifndef\tDEBUG\n\tclnt_destroy\ (clnt)\;\n#endif\t\ /*\ DEBUG\ */\n\}\n\n#plik_server.c\n\nMac\ *\noperation_1_svc(TrzyMac\ *argp,\ struct\ svc_req\ *rqstp)\n\{\n\tstatic\ Mac\ \ result\;\n\tresult.IleW\ =\ argp->M1.IleW\;\n\tresult.IleK\ =\ argp->M1.IleK\;\n\tint\ x\ =\ argp->M1.IleW\;\n\n\tresult.Elem.Elem_len\ =\ result.IleW\ *\ result.IleK\;\n\tresult.Elem.Elem_val\ =\ calloc(result.Elem.Elem_len,\ sizeof(float))\;\n\tint\ i\;\n\tfor\ (i\ =\ 0\;\ i\ <\ result.Elem.Elem_len\;\ i++)\ \{\n\t\tresult.Elem.Elem_val\[i\]\ =\ argp->M1.Elem.Elem_val\[i\]\ +\ argp->M2.Elem.Elem_val\[i\]\;\n\t\}\n\tint\ n\ =\ x-1\;\n\tprintf(\"Result\ \\n\")\;\n\tfor\ (i\ =\ 0\;\ i\ <\ result.Elem.Elem_len\;\ i++)\ \{\n\t\tprintf(\"%f\ \",\ result.Elem.Elem_val\[i\])\;\n\t\tif\ (i\ ==\ n)\ \{\n\t\tprintf(\"\\n\")\;\n\t\tn\ =\ n+x\;\n\t\t\}\n\t\}\n\n\treturn\ &result\;\n\}\n\n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ make\ -f\ Makefile.plik\ \ncc\ -g\ \ \ \ -c\ -o\ plik_clnt.o\ plik_clnt.c\ncc\ -g\ \ \ \ -c\ -o\ plik_client.o\ plik_client.c\ncc\ -g\ \ \ \ -c\ -o\ plik_xdr.o\ plik_xdr.c\ncc\ -g\ \ \ \ \ -o\ plik_client\ \ plik_clnt.o\ plik_client.o\ plik_xdr.o\ -lnsl\ \ncc\ -g\ \ \ \ -c\ -o\ plik_svc.o\ plik_svc.c\ncc\ -g\ \ \ \ -c\ -o\ plik_server.o\ plik_server.c\ncc\ -g\ \ \ \ \ -o\ plik_server\ \ plik_svc.o\ plik_server.o\ plik_xdr.o\ -lnsl\n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ ./plik_server\ &\n\[2\]\ 14619\n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ ./plik_client\ localhost\nMATRIX\ 1:\ \nW:\ \n3\nK:\ \n3\nGive\ element\ M1\ 0\n1\nGive\ element\ M1\ 1\n2\nGive\ element\ M1\ 2\n3\nGive\ element\ M1\ 3\n4\nGive\ element\ M1\ 4\n5\nGive\ element\ M1\ 5\n6\nGive\ element\ M1\ 6\n7\nGive\ element\ M1\ 7\n8\nGive\ element\ M1\ 8\n9\nMATRIX\ 2:\ \nGive\ element\ M2\ 0\n5\nGive\ element\ M2\ 1\n6\nGive\ element\ M2\ 2\n7\nGive\ element\ M2\ 3\n8\nGive\ element\ M2\ 4\n9\nGive\ element\ M2\ 5\n1\nGive\ element\ M2\ 6\n2\nGive\ element\ M2\ 7\n3\nGive\ element\ M2\ 8\n4\nResult:\n6.000000\ 8.000000\ 10.000000\ \n12.000000\ 14.000000\ 7.000000\ \n9.000000\ 11.000000\ 13.000000\ \n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ \n\ns384119@lts:~/Desktop/TAS/LematA/4\$\ Result\ \n6.000000\ 8.000000\ 10.000000\ \n12.000000\ 14.000000\ 7.000000\ \n9.000000\ 11.000000\ 13.000000\ \n^C\ns384119@lts:~/Desktop/TAS/LematA/4\$\ \n\n)\n\nZadanie\ 5\ -------------------------------------\n(tutaj\ tre¶æ\ zadania\ 1...)\n\nZadanie\ 6\ -------------------------------------\n(tutaj\ tre¶æ\ zadania\ 1...)\n\nZadanie\ 7\ -------------------------------------\n(tutaj\ tre¶æ\ zadania\ 1...)\n\nZadanie\ 7a\ -------------------------------------\n(tutaj\ tre¶æ\ zadania\ 1...)\n\nZadanie\ A.1\ -------------------------------------\n(tutaj\ tre¶æ\ zadania\ 1...)\n
