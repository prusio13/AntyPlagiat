przedmiot TAS temat D nr_indeksu 396451 liczba_pkt 6 

\r\n\r\n#########################################################\r\nZAD\ 40\r\n\tZaprogramuj\ aplikacje\ SOAP\ z\ metod?\ \"pomnozRazy2\"\ mono??c?\ i\ zwracaj?c?\ ci?g\ liczb\ float\ dowolnej\ d?ugoœci\;\r\n\tklienci\ SOAP:\ 2\ klientów:\ gsoap\ i\ tclsoap\r\n\tserwer\ SOAP:\ dowolny\ (najproœciej\ tclsoap)\r\n\tWstaw\ do\ sprawozdania\ tak?e\ komunikaty\ SOAP\ wysy?ane/\ odbierane\ przez\ klienta.\r\n\r\n\tWYDRUK\ SERWERA\r\n\t\ts396451@pc25c:~/Desktop/TAS/TEMAT\ D/Przyklad1\$\ ./a.out\ \r\n\t\t\tserwer/dbg:\ argument:\r\n\t\t\t1.000000\ 2.000000\ 3.000000\ \r\n\t\t\t.serwer/dbg:\ argument:\r\n\t\t\t1.000000\ 2.000000\ 3.000000\ 4.000000\ \r\n\t\t\t..serwer/dbg:\ argument:\r\n\t\t\t1.000000\ 2.000000\ 3.000000\ 4.000000\ 12.400000\r\n\r\n\tWYDRUK\ KLIENTA\r\n\t\t\r\n\t\tqqq::pomnozRazy2\ \{item\ \{1\ 2\ 3\ 4\ 12.4\}\ \}\r\n\t\t\ \ #%\ return\ \{item\ \{2\ 4\ 6\ 8\ 24.7999992\}\}\r\n\r\n\t\tqqq::pomnozRazy2\ \{item\ \{1\ 2\ 3\ 4\}\ \}\r\n\t\t\ \ #%\ return\ \{item\ \{2\ 4\ 6\ 8\}\}\r\n\t\t\r\n\t\tqqq::pomnozRazy2\ \{item\ \{1\ 2\ 3\}\ \}\r\n\t\t\ \ #%\ return\ \{item\ \{2\ 4\ 6\}\}\r\n\r\n\r\n\t\t\ \ serwer\ oraz\ client\ przy\ pomocy\ asix\r\n\t\t\ \ \r\nASIX\ JAVA\r\n\tPrzyk?ad\ mno??cy\ wektor\ liczb\ razy\ dwa\ zaimplementowany\ w\ javie\ przy\ pomocy\ tomcata8\ oraz\ apache\ axis.\r\n\t\r\n\tKlient\ :\r\n\t\r\n\t\t\timport\ org.apache.axis.Constants\;\r\n\t\t\timport\ org.apache.axis.client.Call\;\r\n\t\t\timport\ org.apache.axis.client.Service\;\r\n\t\t\timport\ org.apache.axis.encoding.XMLType\;\r\n\r\n\t\t\timport\ javax.xml.rpc.ParameterMode\;\r\n\r\n\t\t\tpublic\ class\ HelloClient\r\n\t\t\t\{\r\n\t\t\t\ \ \ public\ static\ void\ main(String\ \[\]\ args)\r\n\t\t\t\t\ throws\ Exception\r\n\t\t\t\ \ \ \{\r\n\t\t\t\t\ \ \ String\ endpoint\ =\ \"http://localhost:8080\"\ +\ \"/axis/Hello.jws\"\;\r\n\t\t\t\t\ \ \ Service\ service\ =\ new\ Service()\;\r\n\t\t\t\t\ \ \ Call\ call\ =\ (Call)\ service.createCall()\;\r\n\r\n\t\t\t\t\ \ \ call.setTargetEndpointAddress(new\ java.net.URL(endpoint))\;\r\n\t\t\t\t\ \ \ call.setOperationName(\"multiplyArrays\")\;\r\n\t\t\t\t\ \ \ call.addParameter(\"array\",\ XMLType.XSD_STRING,\ ParameterMode.IN)\;\r\n\t\t\t\t\ \ \ call.addParameter(\"array2\",\ XMLType.XSD_STRING,\ ParameterMode.IN)\;\r\n\t\t\t\t\ \ \ call.setReturnType(XMLType.XSD_STRING)\;\r\n\t\t\t\t\ \ \ \r\n\t\t\t\t\ \ \ String\ msg\ =\ (String)\ call.invoke(new\ Object\[\]\ \{\"1\ 2\ 3\ 4\ 5\ 6\",\ \"1.2\ 2\ 6\ 4\ 5\ 2\"\})\;\r\n\r\n\t\t\t\t\ \ \ System.out.println(\"Reply:\ \"\ +\ msg)\;\r\n\t\t\t\ \ \ \}\r\n\t\t\t\}\r\n\r\n\t\t\tSERWER:\r\n\t\t\t\tmultiplication\ of\ arrays:\ :\ 1\ 2\ 3\ 4\ 5\ 6\ and\r\n\t\t\t\tSenting\ result:\ 1.2\ 4.0\ 18.0\ 16.0\ 25.0\ 12.0\r\n\t\t\t\t\r\n\t\t\tCLIENT:\r\n\t\t\t\tReply:\ 1.2\ 4.0\ 18.0\ 16.0\ 25.0\ 12.0\r\n\t\r\n\t\r\n#######################################\r\nZad41\r\n\tSerwis\ mno??cy\ wektory:\r\n\t\tODPALONE\ 1\ RAZ\r\n\t\tKLIENT:\t\r\n\t\t\tqqq::pomnozRazy2\ \{item\ \{1\ 2\ 3\ 4\}\ \}\ \{item\ \{1\ 2\ 3\ 9\}\ \}\r\n\t\t\t\ \ #%\ return\ \{item\ \{1\ 4\ 9\ 36\}\}\r\n\t\tSERWER:\r\n\t\t\t.serwer/dbg:\ argument:\r\n\t\t\t\t1.000000\ 2.000000\ 3.000000\ 4.000000\ \r\n\t\t\t\t1.000000\ 2.000000\ 3.000000\ 9.000000\ \r\n\r\n\tODPALONE\ Z\ INNYMI\ ARGUMENTAMI\r\n\t\tKLIENT:\r\n\t\t\tqqq::pomnozRazy2\ \{item\ \{1\ 2\ 3\ 4\ 4\ 4\ 12.42\}\ \}\ \{item\ \{1\ 2\ 3\ 9\ 15\ 515\ 12.52\}\ \}\r\n\ \t\t\t\t\ #%\ return\ \{item\ \{1\ 4\ 9\ 36\ 60\ 2060\ 155.498413\}\}\r\n\r\n\t\tSERWER:\r\n\t\t\t.serwer/dbg:\ argument:\r\n\t\t\t\t1.000000\ 2.000000\ 3.000000\ 4.000000\ 4.000000\ 4.000000\ 12.420000\ \r\n\t\t\t\t1.000000\ 2.000000\ 3.000000\ 9.000000\ 15.000000\ 515.000000\ 12.520000\r\n\r\n###############################\r\nZAD43\r\nZaprogramuj\ niskopoziomowo\ (bez\ u?ycia\ ?adnych\ pakietów\ soap)\ klienta\ SOAP\ do\ serwera\ z\ zadania\ 40\ (pomnozRazy2)\;\ \r\nKlient\ oraz\ wiadomosc\ xml\ w\ folderze\ z\ zadaniem\ 43.\r\n\r\n\tSERWER\ (z\ zadania\ 40):\r\n\t\t.serwer/dbg:\ argument:\r\n\t\t0.000000\ 1.000000\ 5.000000\ \r\n\r\n\tKLIENT:\r\n\t\tStart\r\n\t\t<SOAP-ENV:Envelope\ xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"\ xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"\ xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\ xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\ xmlns:ns=\"qqq\"><SOAP-ENV:Body><ns:pomnozRazy2Response><ns:return\ xsi:type=\"SOAP-ENC:Array\"\ SOAP-ENC:arrayType=\"xsd:float\[3\]\"><item>0</item><item>2</item><item>10</item></ns:return></ns:pomnozRazy2Response></SOAP-ENV:Body></SOAP-ENV:Envelope>\r\n\r\nOtrzymaliœmy\ odpowiedŸ\ zaszyt?\ w\ xml\ z\ pomno?onymi\ wartoœciami\ argumentów\r\n\r\n#######################################\r\nZad44\r\n\tModyfikacja,\ z\ faktu\ braku\ mo?liwoœci\ po??czenia\ si?\ z\ odpowiednim\ serwerem,\ zaimplementowany\ zosta?\ serwer,\ który\ podaje\ wszystkie\ znane\ miasta\ dla\ zadanego\ pa?stwa.\ Rozwi?zanie\ zaimplementowane\ z\ wykorzystaniem\ jsp.\r\n\tCa?y\ projekt\ zamieszczony\ w\ sprawozdaniu,\ poni?ej\ zamieszczono\ najwa?niejsze\ fragmenty\ kodu\ oraz\ czeœ?\ zwróconej\ listy\ miast.\r\n\t\r\n\tWynik\ eksperymentu:\r\n\t\tDla\ wejœcia\ Germany:\ (pierwsze\ 13\ z\ 100\ wyszukanych\ miast)\r\n\t\t\t1.\ Hannover\r\n\t\t\t2.\ Wunstorf\r\n\t\t\t3.\ Rheine-Bentlage\r\n\t\t\t4.\ Essen\r\n\t\t\t5.\ Muenster\ /\ Osnabrueck\r\n\t\t\t6.\ Celle\r\n\t\t\t7.\ Fassberg\r\n\t\t\t9.\ Nordhorn\r\n\t\t\t10.\ Wiesbaden\r\n\t\t\t11.\ Lechfeld\r\n\t\t\t12.\ Kassel\ /\ Calden\r\n\t\t\t13.\ Berlin-Tempelhof\r\n\t\tDla\ wejœcia\ Canada:\ (pierwsze\ 13\ z\ 561\ wyszukanych\ miast)\r\n\t\t\t1.\ Rampart\ River\ Automatic\ Weather\r\n\t\t\t2.\ Edmonton\ Stony\ Plain\ Alta.\r\n\t\t\t3.\ Isachsen\ Meteorological\ Aeronaut\r\n\t\t\t4.\ Lac\ La\ Martre\r\n\t\t\t5.\ Holland\ Rock\ Automatic\ Weather\ R\r\n\t\t\t6.\ Longue\ Point\ De\ Mingan,\ Que.\r\n\t\t\t7.\ Shingle\ Point,\ Y.\ T.\r\n\t\t\t9.\ Uranium\ City,\ Sask.\r\n\t\t\t10.\ Kapuskasing,\ Ont.\r\n\t\t\t11.\ Quebec,\ Que\r\n\t\t\t12.\ Shoal\ Lake\ Airport\ Automated\ Rep\r\n\t\t\t13.\ Ile\ Rouge\ Meteorological\ Aeronau\r\n\r\n\tKOD:\r\n\t\t1.\ Klasa\ odpowiedzialna\ za\ przetwarzanie\ pliku\ xml\ zwróconego\ przez\ zdaln?\ procedur?\ podaj?c?\ miasta\ dla\ zadanego\ kraju:\r\n\t\t\timport\ java.io.ByteArrayInputStream\;\r\n\t\t\timport\ java.io.IOException\;\r\n\t\t\timport\ java.util.ArrayList\;\r\n\t\t\timport\ java.util.HashSet\;\r\n\r\n\t\t\timport\ javax.xml.parsers.DocumentBuilder\;\r\n\t\t\timport\ javax.xml.parsers.DocumentBuilderFactory\;\r\n\t\t\timport\ javax.xml.parsers.ParserConfigurationException\;\r\n\r\n\t\t\timport\ org.w3c.dom.Document\;\r\n\t\t\timport\ org.w3c.dom.Element\;\r\n\t\t\timport\ org.w3c.dom.NodeList\;\r\n\t\t\timport\ org.xml.sax.SAXException\;\r\n\r\n\t\t\tpublic\ class\ XmlFileProcessor\ \{\r\n\r\n\t\t\t\tpublic\ static\ ArrayList<String>\ getCities(String\ xmlFile)\ \{\r\n\t\t\t\t\ \ \ HashSet<String>\ cities\ =\ new\ HashSet<>()\;\r\n\t\t\t\t\tDocumentBuilderFactory\ dbFactory\ =\ DocumentBuilderFactory.newInstance()\;\r\n\t\t\t\t\tDocument\ doc\;\r\n\t\t\t\t\ttry\ \{\r\n\t\t\t\t\t\tDocumentBuilder\ dBuilder\ =\ dbFactory.newDocumentBuilder()\;\r\n\t\t\t\t\t\tdoc\ =\ dBuilder.parse(new\ ByteArrayInputStream((\"<xml>\"\ +\ xmlFile\ +\ \"</xml>\").getBytes()))\;\r\n\t\t\t\t\t\tdoc.getDocumentElement().normalize()\;\r\n\t\t\t\t\t\t//\ System.out.println(\"Root\ element\ :\"\ +\r\n\t\t\t\t\t\t//\ doc.getDocumentElement().getNodeName())\;\r\n\t\t\t\t\t\tNodeList\ nList\ =\ doc.getElementsByTagName(\"NewDataSet\")\;\r\n\t\t\t\t\t\tfor\ (int\ i\ =\ 0\;\ i\ <\ nList.getLength()\;\ i++)\ \{\r\n\t\t\t\t\t\t\tElement\ newDataSet\ =\ (Element)\ nList.item(i)\;\r\n\t\t\t\t\t\t\tNodeList\ tables\ =\ newDataSet.getElementsByTagName(\"Table\")\;\r\n\t\t\t\t\t\t\tfor\ (int\ j\ =\ 0\;\ j\ <\ tables.getLength()\;\ j++)\ \{\r\n\t\t\t\t\t\t\t\tElement\ table\ =\ (Element)\ tables.item(j)\;\r\n\t\t\t\t\t\t\t\tfinal\ String\ citie\ =\ table.getElementsByTagName(\"City\").item(0).getTextContent()\;\r\n\t\t\t\t\t\t\t\tcities.add(citie)\;\r\n\t\t\t\t\t\t\t\}\r\n\t\t\t\t\t\t\}\r\n\r\n\t\t\t\t\t\}\ catch\ (ParserConfigurationException\ |\ SAXException\ |\ IOException\ e)\ \{\r\n\t\t\t\t\t\t//\ TODO\ Auto-generated\ catch\ block\r\n\t\t\t\t\t\te.printStackTrace()\;\r\n\t\t\t\t\t\}\r\n\t\t\t\t\tSystem.out.println(cities.toString())\;\r\n\t\t\t\t\treturn\ new\ ArrayList<>(cities)\;\r\n\t\t\t\t\r\n\t\t2.\ Fragment\ strony\ jsp\ wykorzystuj?cej\ powy?szy\ kod\ do\ wyœwietlenia\ odpowiedzi:\r\n\t\t\t\ \ \ \ \ \ \ \ \ \ \ \ \ String\ countryName_3id\ =\ request.getParameter(\"countryName23\")\;\r\n\t\t\t\t\t\t\ java.lang.String\ countryName_3idTemp\ =\ null\;\r\n\t\t\t\t\t\t\ if\ (!countryName_3id.equals(\"\"))\ \{\r\n\t\t\t\t\t\t\t\ countryName_3idTemp\ =\ countryName_3id\;\r\n\t\t\t\t\t\t\ \}\r\n\t\t\t\t\t\t\ java.lang.String\ getCitiesByCountry20mtemp\ =\ sampleGlobalWeatherSoapProxyid\r\n\t\t\t\t\t\t\t\t\ .getCitiesByCountry(countryName_3idTemp)\;\r\n\t\t\t\t\t\t\ if\ (getCitiesByCountry20mtemp\ ==\ null)\ \{\r\n\t\t\t\t\t\t\ %>\r\n\t\t\t\t\t\t\ <%=getCitiesByCountry20mtemp%>\r\n\t\t\t\t\t\t\ <%\r\n\t\t\t\t\t\t\t\ \}\ else\ \{\r\n\t\t\t\t\t\t\t\t\t\t\ String\ tempResultreturnp21\ =\ org.eclipse.jst.ws.util.JspUtils\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ .markup(String.valueOf(getCitiesByCountry20mtemp))\;\r\n\t\t\t\t\t\t\t\t\t\t\ %><ol><%\r\n\t\t\t\t\t\t\t\t\t\t\ ArrayList<String>\ cities\ =\ \ XmlFileProcessor.getCities(getCitiesByCountry20mtemp)\;\r\n\t\t\t\t\t\t\t\t\t\t\ if\ (cities.isEmpty())\ \{\r\n\t\t\t\t\t\t\t\t\t\t\t\ %><li><%=\"UNKNOW\ COUNTRY\"%></li><%\r\n\t\t\t\t\t\t\t\t\t\t\ \}\r\n\t\t\t\t\t\t\t\t\t\t\ for\ (String\ s\ :\ cities)\ \{\r\n\t\t\t\t\t\t\t\t\t\t\t\ %><li><%=s%></li><%\r\n\t\t\t\t\t\t\t\t\t\t\ \}\r\n\t\t\t\t\t\t\t\t\t\t\ %></ol>\r\n\r\n######################################\t\t\t\t\t\t\t\t\t\t\ \r\nZAD45\r\n\tTworzenie\ mapy\ temperaturowej\ dla\ dowolnego\ kraju\ poprzez\ podanie\ polskiej\ lub\ angielskiej\ nazwy.\r\n\tZadanie\ prezentowane\ na\ zaj?ciach,\ kod\ w\ folderze\ ZAD45.\ 
