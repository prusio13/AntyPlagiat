przedmiot TAS temat C nr_indeksu 396322 liczba_pkt 4 

\r\n\r\n\r\nZadanie\ 20\ -------------------------------------\r\n\r\n1)\ java-java\r\n\r\ns396322@pc03c:~/TAS/c/Hello_Java\$\ java\ HelloServer2\ \r\nHelloServant2()\r\nIOR=IOR:000000000000001849444c3a48656c6c6f417070322f48656c6c6f3a312e3000000000010000000000000082000102000000000a3132372e302e302e310097e800000031afabcb00000000206b6e2f9100000001000000000000000100000008526f6f74504f410000000008000000010000000014000000000000020000000100000020000000000001000100000002050100010001002000010109000000010001010000000026000000020002\r\norb.run()\;\r\npodajLiczbe(),\ 0\r\nsayHello()\r\n8:\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ \r\npodajLiczbe(),\ 2\r\nsayHello()\r\n8:\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ \r\n\r\njava\ HelloClient2\ \r\npodajLiczbe=0\r\nsayHello=Hello\ world\ !!!\r\n\r\njava\ HelloClient2\ \r\npodajLiczbe=1\r\n\r\n2)\ tcl\ -\ tcl\r\n\r\nKod\ serwera:\ \r\n\r\n\r\nlappend\ auto_path\ combat-tcl-0.7.4\r\n\ \ #%\ /home/students/s396322/TAS/c/tclkit/lib/tcl8.4\ /home/students/s375146/TAS/c/tclkit/lib\ /home/students/s375146/TAS/c/tclkit/lib/tk8.4\ combat-tcl-0.7.4\ combat-tcl-0.7.4\r\npackage\ require\ combat\r\n\ \ #%\ 0.7\r\n\r\n\t#\ sprawdzam\ czy\ dziala\ dziedziczenie\ ...\ tak\r\n\t#\ (ale\ sa\ problemy\ z\ \"body\")\r\n\t#\ rozwiazanie:\ zdefiniowac\ metode\ sayHello2\ w\ klasie\ HelloWorld\ !\r\n#class\ StaryHelloWorld\ \{\r\n#\ \ public\ method\ sayHello2\ \{_str\}\ \{\r\n#\ \ \ \ return\ \"sayHello2:\ _str=\$_str\"\r\n#\ \ \}\r\n#\}\r\n\r\nclass\ HelloWorld\ \{\r\n\ \ #inherit\ PortableServer::ServantBase\ StaryHelloWorld\r\n\ \ inherit\ PortableServer::ServantBase\r\n\ \ public\ method\ _Interface\ \{\}\ \{\r\n\ \ \ \ return\ \"IDL:HelloApp2/Hello:1.0\"\r\n\ \ \ \ \ \ #\ mozna\ to\ wyciagnac\ z\ pliku\ hello2.tcl\r\n\ \ \}\r\n\r\n\ \ public\ method\ sayHello\ \{\}\ \{\r\n\ \ \ \ return\ \"Jak\ sie\ masz\ ???\"\r\n\ \ \}\r\n\r\n\ \ #public\ method\ sayHello2\ \{_str\}\ \{\r\n\ \ #\ \ return\ \"sayHello2:\ _str=\$_str\"\r\n\ \ #\}\r\n\ \ public\ method\ sayHello2\ \{_str\}\ \{\r\n\ \ \ \ set\ str\ \"\$_str\\\[\$str\\\]\"\r\n\ \ \ \ return\ \"sayHello2:\ str=\$str\"\r\n\ \ \}\r\n\r\n\ \ public\ method\ podajLiczbe\ \{\}\ \{\r\n\ \ \ \ set\ x\ \$liczba\;\ incr\ liczba\r\n\ \ \ \ return\ \$x\r\n\ \ \}\r\n\r\n\ \ #\ ta\ metoda\ tworzy\ nowy\ obiekt\ HelloWorld\ i\ zwraca\ ref\ do\ tego\ obiektu\r\n\ \ #\r\n\ \ public\ method\ sayHello_nowyObiekt\ \{\}\ \{\r\n\ \ \ \ global\ poa\r\n\r\n\ \ \ \ puts\ \"poczatek\ sayHello_nowyObiekt\"\r\n\ \ \ \ puts\ \"poa=\$poa\"\r\n\r\n\ \ \ \ set\ obj\ \[namespace\ current\]::\[HelloWorld\ #auto\]\r\n\ \ \ \ \ \ \ \ #set\ obj\ \[HelloWorld\ #auto\]\;\ global\ \$obj\r\n\ \ \ \ \ \ \ \ \ \ #\ to\ jest\ inne\ rozwiazanie\;\ czy\ dziala?\ odp:\ NIE!\ dlaczego???\r\n\ \ \ \ puts\ \"obj=\$obj\"\r\n\r\n\ \ \ \ set\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\ \ \ \ puts\ \"ref=\$ref\"\r\n\ \ \ \ \ \ \ \ #\ na\ tym\ sie\ zawiesza\ !?!?!?!?\r\n\ \ \ \ \ \ \ \ ###\ caly\ problem\ polegal\ na\ braku\ \"\[namespace\ current\]::\"\ !!!\r\n\r\n\ \ \ \ puts\ \"koniec\ sayHello_nowyObiekt\"\r\n\ \ \ \ return\ \$ref\r\n\ \ \}\r\n\r\n\ \ #\ typedef\ long\ tab\[10\]\;\r\n\ \ #\ void\ wektorRazy2(in\ tab\ tab1,\ out\ tab\ tab2)\;\r\n\ \ public\ method\ wektorRazy2\ \{tab1\ tab2\}\ \{\r\n\ \ \ \ puts\ \"wektorRazy2\ poczatek\"\r\n\ \ \ \ upvar\ \$tab2\ tab2_value\r\n\ \ \ \ \ \ #\ w\ ten\ sposob\ sie\ przekazuje\ parametry\ \"przez\ zmienna\"\r\n\r\n\ \ \ \ set\ tab2_value\ \"\"\r\n\ \ \ \ foreach\ x\ \$tab1\ \{lappend\ tab2_value\ \[expr\ \$x*3\]\}\r\n\r\n\ \ \ \ puts\ \"wektorRazy2\ koniec\"\r\n\ \ \}\r\n\r\n\ \ #void\ uruchomZwrotnaMet(in\ WywZwrotne\ ref)\;\r\n\ \ public\ method\ uruchomZwrotnaMet\ ref\ \{\r\n\ \ \ \ for\ \{set\ i\ 0\}\ \{\$i<5\}\ \{incr\ i\}\ \{\r\n\ \ \ \ \ \ \$ref\ metoda\r\n\ \ \ \ \}\r\n\ \ \}\r\n\r\n\ \ private\ variable\ str\ \"\"\r\n\ \ private\ variable\ liczba\ 0\r\n\}\r\n\ \ #%\ \r\n\r\ncorba::init\r\n\ \ #%\ \r\n\r\n#source\ hello2.tcl\r\n#combat::ir\ add\ \$_ir_hello2\r\nsource\ Hello_Tcl/Hello3.tcl\r\n\ \ #%\ 1\r\ncombat::ir\ add\ \$_ir_Hello3\r\n\ \ #%\ \r\n\t#\ tego\ zapomnieli\ w\ dokumentacji\ ???\r\n\t#\ ladujemy\ dane\ do\ Interf.\ Rep.\r\n\t#\ \"combat::ir\ add\ ...\"\ jest\ niezbedne\ !\r\n\r\n\r\nset\ obj\ \[HelloWorld\ #auto\]\r\n\ \ #%\ helloWorld0\r\n\t#\ tworzymy\ obiekt\ (servant-a)\r\nputs\ \"obj=\$obj\"\r\n\ \ #%\ \r\n\r\n###\ POA\ -------------------------------------------------------\r\n\r\nset\ poa\ \[corba::resolve_initial_references\ \"RootPOA\"\]\r\nset\ mgr\ \[\$poa\ the_POAManager\]\r\n\r\n#set\ mypoa\ \[\$poa\ create_POA\ MyPOA\ \$mgr\ \{RETAIN\ USER_ID\}\]\r\n\r\n#set\ oid\ \[\$poa\ activate_object\ \$obj\]\r\n#set\ ref\ \[\$poa\ id_to_reference\ \$oid\]\r\n\r\nset\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\t#\ tez\ dziala!\ (z\ pominieciem\ oid)\r\n\t#\ prawdopodobnie\ \"\$poa\ activate_object\ \$obj\"\ tez\ by\ zadzialalo\r\n\r\nputs\ \"poa=\$poa\"\r\nputs\ \"ref=\$ref\"\r\n\r\nset\ ior\ \[corba::object_to_string\ \$ref\]\r\n\t#\ ref\ i\ oid\ to\ nie\ to\ samo\ !!!\r\nputs\ \"HelloWorld\ IOR\ =\ \$ior\"\r\nset\ f\ \[open\ \{Hello_Java/Hello.IOR\}\ \"w\"\]\;\r\n\ \ #%\ file6\r\nputs\ \$f\ \$ior\;\ close\ \$f\r\n\ \ #%\ \r\n\r\n\$mgr\ activate\r\n\ \ #%\ \r\n\r\n\r\n\ \ \r\nKod\ klienta:\r\n\r\n\r\nlappend\ auto_path\ combat-tcl-0.7.4\r\n\ \ #%\ /home/students/s396322/TAS/c/tclkit/lib/tcl8.4\ /home/students/s375146/TAS/c/tclkit/lib\ /home/students/s375146/TAS/c/tclkit/lib/tk8.4\ combat-tcl-0.7.4\ combat-tcl-0.7.4\ combat-tcl-0.7.4\r\nlappend\ auto_path\ tcl++230\r\npackage\ require\ combat\r\n\ \ #%\ 0.7\r\n\r\ncorba::init\r\n#\ nie\ jest\ konieczne\r\n\r\n#source\ hello2.tcl\r\n#combat::ir\ add\ \$_ir_hello2\r\nsource\ Hello_Tcl/Hello3.tcl\r\n\ \ #%\ 1\r\ncombat::ir\ add\ \$_ir_Hello3\r\n\ \ #%\ \r\n\ \ #\ dodajemy\ wpis\ do\ (local)\ Interface\ Repository\r\n\r\n#\ czy\ dziala\ bez\ \"combat::ir\ add\"\ ?\ odp:\ NIE\;\r\n#\ czyli\ plik\ hello2.tcl\ utworzony\ przez\ idl2tcl.exe\ jest\ niezbedny\ !!!\r\n\r\n#\ plik\ Hello.ior\ musi\ byc\ produkowany\r\n#\ przy\ kazdym\ utworzeniu\ obiektu/serwera\ !\r\nset\ f\ \[open\ \{Hello_Java/Hello.IOR\}\ \"r\"\]\;\r\n\ \ #%\ file6\r\nset\ ior\ \[read\ \$f\]\;\ close\ \$f\r\n\ \ #%\ \r\n\r\nset\ m\ \[corba::string_to_object\ \$ior\]\r\n\ \ #%\ _combat_obj_4\r\n#\ \$m\ jest\ \"uchwytem\"\ (handle)\ wg\ terminologii\ Combata\ ...\r\n\$m\ sayHello\r\n\ \ #%\ Jak\ sie\ masz\ ???\r\n\ \ \r\n\ \ \r\n3)\ java\ -\ tcl\r\n\ \ \r\n\r\nlappend\ auto_path\ combat-tcl-0.7.4\r\n\ \ #%\ /home/students/s396322/TAS/c/tclkit/lib/tcl8.4\ /home/students/s375146/TAS/c/tclkit/lib\ /home/students/s375146/TAS/c/tclkit/lib/tk8.4\ combat-tcl-0.7.4\ combat-tcl-0.7.4\r\npackage\ require\ combat\r\n\ \ #%\ 0.7\r\n\r\n\t#\ sprawdzam\ czy\ dziala\ dziedziczenie\ ...\ tak\r\n\t#\ (ale\ sa\ problemy\ z\ \"body\")\r\n\t#\ rozwiazanie:\ zdefiniowac\ metode\ sayHello2\ w\ klasie\ HelloWorld\ !\r\n#class\ StaryHelloWorld\ \{\r\n#\ \ public\ method\ sayHello2\ \{_str\}\ \{\r\n#\ \ \ \ return\ \"sayHello2:\ _str=\$_str\"\r\n#\ \ \}\r\n#\}\r\n\r\nclass\ HelloWorld\ \{\r\n\ \ #inherit\ PortableServer::ServantBase\ StaryHelloWorld\r\n\ \ inherit\ PortableServer::ServantBase\r\n\ \ public\ method\ _Interface\ \{\}\ \{\r\n\ \ \ \ return\ \"IDL:HelloApp2/Hello:1.0\"\r\n\ \ \ \ \ \ #\ mozna\ to\ wyciagnac\ z\ pliku\ hello2.tcl\r\n\ \ \}\r\n\r\n\ \ public\ method\ sayHello\ \{\}\ \{\r\n\ \ \ \ return\ \"Jak\ sie\ masz\ ???\"\r\n\ \ \}\r\n\r\n\ \ #public\ method\ sayHello2\ \{_str\}\ \{\r\n\ \ #\ \ return\ \"sayHello2:\ _str=\$_str\"\r\n\ \ #\}\r\n\ \ public\ method\ sayHello2\ \{_str\}\ \{\r\n\ \ \ \ set\ str\ \"\$_str\\\[\$str\\\]\"\r\n\ \ \ \ return\ \"sayHello2:\ str=\$str\"\r\n\ \ \}\r\n\r\n\ \ public\ method\ podajLiczbe\ \{\}\ \{\r\n\ \ \ \ set\ x\ \$liczba\;\ incr\ liczba\r\n\ \ \ \ return\ \$x\r\n\ \ \}\r\n\r\n\ \ #\ ta\ metoda\ tworzy\ nowy\ obiekt\ HelloWorld\ i\ zwraca\ ref\ do\ tego\ obiektu\r\n\ \ #\r\n\ \ public\ method\ sayHello_nowyObiekt\ \{\}\ \{\r\n\ \ \ \ global\ poa\r\n\r\n\ \ \ \ puts\ \"poczatek\ sayHello_nowyObiekt\"\r\n\ \ \ \ puts\ \"poa=\$poa\"\r\n\r\n\ \ \ \ set\ obj\ \[namespace\ current\]::\[HelloWorld\ #auto\]\r\n\ \ \ \ \ \ \ \ #set\ obj\ \[HelloWorld\ #auto\]\;\ global\ \$obj\r\n\ \ \ \ \ \ \ \ \ \ #\ to\ jest\ inne\ rozwiazanie\;\ czy\ dziala?\ odp:\ NIE!\ dlaczego???\r\n\ \ \ \ puts\ \"obj=\$obj\"\r\n\r\n\ \ \ \ set\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\ \ \ \ puts\ \"ref=\$ref\"\r\n\ \ \ \ \ \ \ \ #\ na\ tym\ sie\ zawiesza\ !?!?!?!?\r\n\ \ \ \ \ \ \ \ ###\ caly\ problem\ polegal\ na\ braku\ \"\[namespace\ current\]::\"\ !!!\r\n\r\n\ \ \ \ puts\ \"koniec\ sayHello_nowyObiekt\"\r\n\ \ \ \ return\ \$ref\r\n\ \ \}\r\n\r\n\ \ #\ typedef\ long\ tab\[10\]\;\r\n\ \ #\ void\ wektorRazy2(in\ tab\ tab1,\ out\ tab\ tab2)\;\r\n\ \ public\ method\ wektorRazy2\ \{tab1\ tab2\}\ \{\r\n\ \ \ \ puts\ \"wektorRazy2\ poczatek\"\r\n\ \ \ \ upvar\ \$tab2\ tab2_value\r\n\ \ \ \ \ \ #\ w\ ten\ sposob\ sie\ przekazuje\ parametry\ \"przez\ zmienna\"\r\n\r\n\ \ \ \ set\ tab2_value\ \"\"\r\n\ \ \ \ foreach\ x\ \$tab1\ \{lappend\ tab2_value\ \[expr\ \$x*3\]\}\r\n\r\n\ \ \ \ puts\ \"wektorRazy2\ koniec\"\r\n\ \ \}\r\n\r\n\ \ #void\ uruchomZwrotnaMet(in\ WywZwrotne\ ref)\;\r\n\ \ public\ method\ uruchomZwrotnaMet\ ref\ \{\r\n\ \ \ \ for\ \{set\ i\ 0\}\ \{\$i<5\}\ \{incr\ i\}\ \{\r\n\ \ \ \ \ \ \$ref\ metoda\r\n\ \ \ \ \}\r\n\ \ \}\r\n\r\n\ \ private\ variable\ str\ \"\"\r\n\ \ private\ variable\ liczba\ 0\r\n\}\r\n\ \ #%\ \r\n\r\ncorba::init\r\n\ \ #%\ \r\n\r\n#source\ hello2.tcl\r\n#combat::ir\ add\ \$_ir_hello2\r\nsource\ Hello_Tcl/Hello3.tcl\r\n\ \ #%\ 1\r\ncombat::ir\ add\ \$_ir_Hello3\r\n\ \ #%\ \r\n\t#\ tego\ zapomnieli\ w\ dokumentacji\ ???\r\n\t#\ ladujemy\ dane\ do\ Interf.\ Rep.\r\n\t#\ \"combat::ir\ add\ ...\"\ jest\ niezbedne\ !\r\n\r\n\r\nset\ obj\ \[HelloWorld\ #auto\]\r\n\ \ #%\ helloWorld0\r\n\t#\ tworzymy\ obiekt\ (servant-a)\r\nputs\ \"obj=\$obj\"\r\n\ \ #%\ \r\n\r\n###\ POA\ -------------------------------------------------------\r\n\r\nset\ poa\ \[corba::resolve_initial_references\ \"RootPOA\"\]\r\nset\ mgr\ \[\$poa\ the_POAManager\]\r\n\r\n#set\ mypoa\ \[\$poa\ create_POA\ MyPOA\ \$mgr\ \{RETAIN\ USER_ID\}\]\r\n\r\n#set\ oid\ \[\$poa\ activate_object\ \$obj\]\r\n#set\ ref\ \[\$poa\ id_to_reference\ \$oid\]\r\n\r\nset\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\t#\ tez\ dziala!\ (z\ pominieciem\ oid)\r\n\t#\ prawdopodobnie\ \"\$poa\ activate_object\ \$obj\"\ tez\ by\ zadzialalo\r\n\r\nputs\ \"poa=\$poa\"\r\nputs\ \"ref=\$ref\"\r\n\r\nset\ ior\ \[corba::object_to_string\ \$ref\]\r\n\t#\ ref\ i\ oid\ to\ nie\ to\ samo\ !!!\r\nputs\ \"HelloWorld\ IOR\ =\ \$ior\"\r\nset\ f\ \[open\ \{Hello_Java/Hello.IOR\}\ \"w\"\]\;\r\n\ \ #%\ file6\r\nputs\ \$f\ \$ior\;\ close\ \$f\r\n\ \ #%\ \r\n\r\n\$mgr\ activate\r\n\ \ #%\ \r\n\ \ \r\n\r\n\ \ \r\n4)\ tcl\ -\ java\r\n\r\njava\r\n\r\ns396322@pc03c:~/TAS/c/Hello_Java\$\ idlj\ -fall\ Hello2.idl\ \r\ns396322@pc03c:~/TAS/c/Hello_Java\$\ javac\ HelloServer2.java\ \r\nNote:\ ./HelloApp2/HelloPOA.java\ uses\ unchecked\ or\ unsafe\ operations.\r\nNote:\ Recompile\ with\ -Xlint:unchecked\ for\ details.\r\ns396322@pc03c:~/TAS/c/Hello_Java\$\ java\ HelloServer2\ \r\nHelloServant2()\r\nIOR=IOR:000000000000001849444c3a48656c6c6f417070322f48656c6c6f3a312e3000000000010000000000000082000102000000000a3132372e302e302e310093d900000031afabcb00000000206b62ac1e00000001000000000000000100000008526f6f74504f410000000008000000010000000014000000000000020000000100000020000000000001000100000002050100010001002000010109000000010001010000000026000000020002\r\norb.run()\;\r\nsayHello()\r\n8:\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ \r\nsayHello()\r\n8:\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ \r\npodajLiczbe(),\ 0\r\nwektorRazy2\ -\ poczatek\r\nwektorRazy2\ -\ koniec\r\n\r\ntcl\ \r\n\r\nlappend\ auto_path\ combat-tcl-0.7.4\r\n\ \ #%\ /home/students/s396322/TAS/c/tclkit/lib/tcl8.4\ /home/students/s396322/TAS/c/tclkit/lib\ /home/students/s375146/TAS/c/tclkit/lib/tk8.4\ combat-tcl-0.7.4\r\npackage\ require\ combat\r\n\ \ #%\ 0.7\r\n\r\nsource\ Hello_Tcl/Hello3.tcl\r\ncombat::ir\ add\ \$_ir_Hello3\r\n\ \ #\ dodajemy\ wpis\ do\ (local)\ Interface\ Repository\r\n\r\nset\ f\ \[open\ \{Hello_Java/Hello.IOR\}\ \"r\"\]\;\r\n\ \ #%\ file5\r\nset\ ior\ \[read\ \$f\]\;\ close\ \$f\r\n\ \ #%\ \r\n\r\nset\ m\ \[corba::string_to_object\ \$ior\]\r\n\ \ #%\ _combat_obj_1\r\n#\ \$m\ jest\ \"uchwytem\"\ (handle)\ wg\ terminologii\ Combata\ ...\r\n\r\n#\ eksperyment\ z\ wywolaniem\ zwrotnym\ ...\r\n#\r\n\$m\ sayHello\r\n\ \ #%\ Hello\ world\ !!!\r\n\ \ #%\ Hello\ world\ !!!\r\n\r\n\$m\ podajLiczbe\r\n\ \ #%\ 0\r\n\r\n\$m\ wektorRazy2\ \{1\ 2\ 3\ 4\ 5\ 6\ 7\ 8\ 9\ 10\}\ q\ \r\n\ \ #%\ \r\nset\ q\r\n\ \ #%\ 2\ 4\ 6\ 8\ 10\ 12\ 14\ 16\ 18\ 20\r\n\ \ \r\n\ \ \r\n\r\nZadanie\ 21\ -------------------------------------\r\n\r\n1)\r\npo\ stronie\ serwera:\ dodanie\ metody\ do\ HelloWorld\r\n\r\npublic\ method\ nowyObiekt\ \{\}\ \{\r\n\ \ \ \ global\ poa\r\n\ \ \ \ set\ obj\ \[HelloWorld\ ::#auto\]\r\n\ \ \ \ set\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\ \ \ \ return\ \$ref\r\n\}\r\n\r\ndodanie\ do\ Hello3.idl\r\n\r\nHello\ nowyObiekt()\;\r\n\r\nwyruk\ z\ konsoli\r\n\r\n#\r\n#\ This\ file\ was\ automatically\ generated\ from\ /tmp/pzr_idl2tcl_31659.idl\r\n#\ by\ idl2tcl.\ Do\ not\ edit.\r\n#\r\n\r\nset\ _ir_Hello3\ \\\r\n\{\{module\ \{IDL:HelloApp2:1.0\ HelloApp2\ 1.0\}\ \{\{interface\\\r\n\{IDL:HelloApp2/WywZwrotne:1.0\ WywZwrotne\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/WywZwrotne/metoda:1.0\ metoda\ 1.0\}\ string\ \{\}\ \{\}\}\}\}\ \{interface\\\r\n\{IDL:HelloApp2/Hello:1.0\ Hello\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello:1.0\ sayHello\ 1.0\}\ string\ \{\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello2:1.0\ sayHello2\ 1.0\}\ string\ \{\{in\ we\ string\}\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/podajLiczbe:1.0\ podajLiczbe\ 1.0\}\ long\ \{\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/sayHello_nowyObiekt:1.0\ sayHello_nowyObiekt\\\r\n1.0\}\ IDL:HelloApp2/Hello:1.0\ \{\}\ \{\}\}\ \{typedef\ \{IDL:HelloApp2/Hello/tab:1.0\ tab\\\r\n1.0\}\ \{array\ long\ 10\}\}\ \{operation\ \{IDL:HelloApp2/Hello/wektorRazy2:1.0\\\r\nwektorRazy2\ 1.0\}\ void\ \{\{in\ tab1\ IDL:HelloApp2/Hello/tab:1.0\}\ \{out\ tab2\\\r\nIDL:HelloApp2/Hello/tab:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/uruchomZwrotnaMet:1.0\ uruchomZwrotnaMet\ 1.0\}\ void\ \{\{in\\\r\nref\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/nowyObiekt:1.0\ nowyObiekt\ 1.0\}\ IDL:HelloApp2/Hello:1.0\\\r\n\{\}\ \{\}\}\}\}\}\}\}\r\n\r\n#\r\n#\ This\ is\ just\ to\ clear\ the\ interp\ from\ the\ ridiculously\ long\ string\ above\r\n#\r\n\r\nexpr\ 1\r\n===================\r\nPo\ stronie\ klienta\r\n\r\n\$m\ podajLiczbe\r\n\ \ #%\ 3\r\n\ \ #%\ 2\r\n\ \ #%\ 1\r\n\ \ #%\ 0\r\n\r\nset\ m2\ \[\$m\ nowyObiekt\]\r\n\ \ #%\ _combat_obj_2\r\n\r\n\$m2\ podajLiczbe\r\n\ \ #%\ 2\r\n\ \ #%\ 1\r\n\ \ #%\ 0\r\n\r\n======================================\r\n2)\r\n\r\ndodajemy\ do\ Hello3.idl\ metode\ powolnaMetoda\r\nvoid\ powolnaMetoda()\;\r\n\r\nWydruk\ z\ konsoli\ po\ wygenerowaniu:\r\n\r\n\r\n#\r\n#\ This\ file\ was\ automatically\ generated\ from\ /tmp/pzr_idl2tcl_714.idl\r\n#\ by\ idl2tcl.\ Do\ not\ edit.\r\n#\r\n\r\nset\ _ir_Hello3\ \\\r\n\{\{module\ \{IDL:HelloApp2:1.0\ HelloApp2\ 1.0\}\ \{\{interface\\\r\n\{IDL:HelloApp2/WywZwrotne:1.0\ WywZwrotne\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/WywZwrotne/metoda:1.0\ metoda\ 1.0\}\ string\ \{\}\ \{\}\}\}\}\ \{interface\\\r\n\{IDL:HelloApp2/Hello:1.0\ Hello\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello:1.0\ sayHello\ 1.0\}\ string\ \{\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello2:1.0\ sayHello2\ 1.0\}\ string\ \{\{in\ we\ string\}\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/podajLiczbe:1.0\ podajLiczbe\ 1.0\}\ long\ \{\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/sayHello_nowyObiekt:1.0\ sayHello_nowyObiekt\\\r\n1.0\}\ IDL:HelloApp2/Hello:1.0\ \{\}\ \{\}\}\ \{typedef\ \{IDL:HelloApp2/Hello/tab:1.0\ tab\\\r\n1.0\}\ \{array\ long\ 10\}\}\ \{operation\ \{IDL:HelloApp2/Hello/wektorRazy2:1.0\\\r\nwektorRazy2\ 1.0\}\ void\ \{\{in\ tab1\ IDL:HelloApp2/Hello/tab:1.0\}\ \{out\ tab2\\\r\nIDL:HelloApp2/Hello/tab:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/uruchomZwrotnaMet:1.0\ uruchomZwrotnaMet\ 1.0\}\ void\ \{\{in\\\r\nref\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/nowyObiekt:1.0\ nowyObiekt\ 1.0\}\ IDL:HelloApp2/Hello:1.0\\\r\n\{\}\ \{\}\}\ \{operation\ \{IDL:HelloApp2/Hello/powolnaMetoda:1.0\ powolnaMetoda\ 1.0\}\\\r\nvoid\ \{\}\ \{\}\}\}\}\}\}\}\r\n\r\n#\r\n#\ This\ is\ just\ to\ clear\ the\ interp\ from\ the\ ridiculously\ long\ string\ above\r\n#\r\n\r\nexpr\ 1\r\n\r\n\r\ndo\ serwera\ \r\n\r\npublic\ method\ powolnaMetoda\ \{\}\ \{\r\n\ \ \ \ for\ \{set\ i\ 0\}\ \{\$i\ <\ 5\}\ \{incr\ i\}\ \{\r\n\ \ \ \ \ \ puts\ \"\$i\ sekunda\"\r\n\ \ \ \ \ \ after\ 1000\r\n\ \ \ \ \}\r\n\ \ \}\r\n\r\n===================\r\nserwer\r\n../tclkit\ combat_ser21.tcl\ \r\nobj=helloWorld0\r\npoa=::Combat::PortableServer::rootPOA0\r\nref=_combat_obj_1\r\nHelloWorld\ IOR\ =\ IOR:01666f6f1800000049444c3a48656c6c6f417070322f48656c6c6f3a312e3000020000000000000040000000010102661a00000070633032682e6c6162732e776d692e616d752e6564752e706c0058d7120000002f313338353338353831362f333338382a31666f00000000010000002400000001666f6f01000000010000001400000001666f6f01000105000000000901010000000000\r\n0\ sekunda\r\n1\ sekunda\r\n2\ sekunda\r\n3\ sekunda\r\n4\ sekunda\ #\ pierwszy\ konczy\r\n0\ sekunda\ #\ drugi\ zaczyna\r\n1\ sekunda\r\n2\ sekunda\r\n3\ sekunda\r\n4\ sekunda\r\n\r\nclient\r\n\r\nset\ m\ \[corba::string_to_object\ \$ior\]\r\n\ \ #%\ _combat_obj_1\r\n\$m\ powolnaMetoda\r\n\r\nset\ m2\ \[\$m\ nowyObiekt\]\r\n\ \ #%\ _combat_obj_2\r\n\$m2\ powolnaMetoda\r\n\ \ #%\ \r\n\r\n======================================\r\n3)\r\ndodajemy\ do\ Hello3.idl:\r\n\r\nvoid\ callback(in\ WywZwrotne\ o)\;\r\n\r\ndodajemy\ w\ serwerze:\r\n\r\npublic\ method\ callback\ \{obj\}\ \{\r\n\ \ \ \ \$obj\ metoda\r\n\ \ \}\r\n\r\n\r\nWydruk\ z\ konsoli\ po\ wygenerowaniu:\r\n\r\n\r\n#\r\n#\ This\ file\ was\ automatically\ generated\ from\ /tmp/pzr_idl2tcl_2364.idl\r\n#\ by\ idl2tcl.\ Do\ not\ edit.\r\n#\r\n\r\nset\ _ir_Hello3\ \\\r\n\{\{module\ \{IDL:HelloApp2:1.0\ HelloApp2\ 1.0\}\ \{\{interface\\\r\n\{IDL:HelloApp2/WywZwrotne:1.0\ WywZwrotne\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/WywZwrotne/metoda:1.0\ metoda\ 1.0\}\ string\ \{\}\ \{\}\}\}\}\ \{interface\\\r\n\{IDL:HelloApp2/Hello:1.0\ Hello\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello:1.0\ sayHello\ 1.0\}\ string\ \{\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello2:1.0\ sayHello2\ 1.0\}\ string\ \{\{in\ we\ string\}\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/podajLiczbe:1.0\ podajLiczbe\ 1.0\}\ long\ \{\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/sayHello_nowyObiekt:1.0\ sayHello_nowyObiekt\\\r\n1.0\}\ IDL:HelloApp2/Hello:1.0\ \{\}\ \{\}\}\ \{typedef\ \{IDL:HelloApp2/Hello/tab:1.0\ tab\\\r\n1.0\}\ \{array\ long\ 10\}\}\ \{operation\ \{IDL:HelloApp2/Hello/wektorRazy2:1.0\\\r\nwektorRazy2\ 1.0\}\ void\ \{\{in\ tab1\ IDL:HelloApp2/Hello/tab:1.0\}\ \{out\ tab2\\\r\nIDL:HelloApp2/Hello/tab:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/uruchomZwrotnaMet:1.0\ uruchomZwrotnaMet\ 1.0\}\ void\ \{\{in\\\r\nref\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/nowyObiekt:1.0\ nowyObiekt\ 1.0\}\ IDL:HelloApp2/Hello:1.0\\\r\n\{\}\ \{\}\}\ \{operation\ \{IDL:HelloApp2/Hello/powolnaMetoda:1.0\ powolnaMetoda\ 1.0\}\\\r\nvoid\ \{\}\ \{\}\}\ \{operation\ \{IDL:HelloApp2/Hello/callback:1.0\ callback\ 1.0\}\ void\\\r\n\{\{in\ o\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\}\}\}\}\}\r\n\r\n#\r\n#\ This\ is\ just\ to\ clear\ the\ interp\ from\ the\ ridiculously\ long\ string\ above\r\n#\r\n\r\nexpr\ 1\r\n\r\nclient:\r\n\$m\ callback\ \$ref\r\n\r\nserwer:\r\n../tclkit\ combat_ser21.tcl\ \r\nobj=helloWorld0\r\npoa=::Combat::PortableServer::rootPOA0\r\nref=_combat_obj_1\r\nHelloWorld\ IOR\ =\ IOR:01666f6f1800000049444c3a48656c6c6f417070322f48656c6c6f3a312e3000020000000000000040000000010102661a00000070633032682e6c6162732e776d692e616d752e6564752e706c0020eb120000002f313338353338363537352f333534372a31666f00000000010000002400000001666f6f01000000010000001400000001666f6f01000105000000000901010000000000\r\n\r\nwydruk\ z\ konsoli:\r\n../tclkit\ ../konsola2c.tcl\ \r\nref=_combat_obj_2\r\nref2=_combat_obj_3\r\nWywolanieZwrotne,\ metoda\ (0)\r\n\r\n\r\n\r\n\r\nZadanie\ 22\ -------------------------------------\r\nZawartoœ?\ pliku\ Hello3.idl\ :\r\n\r\n\r\ntypedef\ sequence\ <long>\ t_wiersz\;\r\ntypedef\ sequence\ <t_wiersz>\ t_macierz\;\r\nlong\ sumaElementow(in\ t_macierz\ m)\;\r\n\r\npublic\ method\ sumaElementow\ \{m\}\ \{\r\n\ \ \ \ set\ w\ \[llength\ \$m\]\r\n\ \ \ \ set\ k\ \[llength\ \[lindex\ \$m\ 0\]\]\r\n\ \ \ \ set\ suma\ 0\r\n\ \ \ \ for\ \{set\ i\ 0\}\ \{\$i\ <\ \$w\}\ \{incr\ i\}\ \{\r\n\ \ \ \ \ \ for\ \{set\ j\ 0\}\ \{\$j\ <\ \$k\}\ \{incr\ j\}\r\n\ \ \ \ \ \ \ set\ suma\ \[expr\ \{\$suma\ +\ \[lindex\ \$m\ \$i\ \$j\]\}\]\r\n\ \ \ \ \ \ \}\r\n\ \ \ \ \}\r\n\ \ \ \ return\ \$suma\r\n\ \ \}\r\n\ \ \r\nWyduk\ z\ konsoli\ po\ ponownym\ wygenerowaniu\ pliku:\r\n\r\n#\r\n#\ This\ file\ was\ automatically\ generated\ from\ /tmp/pzr_idl2tcl_4305.idl\r\n#\ by\ idl2tcl.\ Do\ not\ edit.\r\n#\r\n\r\nset\ _ir_pzr_idl2tcl_4305\ \\\r\n\{\{module\ \{IDL:HelloApp2:1.0\ HelloApp2\ 1.0\}\ \{\{interface\\\r\n\{IDL:HelloApp2/WywZwrotne:1.0\ WywZwrotne\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/WywZwrotne/metoda:1.0\ metoda\ 1.0\}\ string\ \{\}\ \{\}\}\}\}\ \{interface\\\r\n\{IDL:HelloApp2/Hello:1.0\ Hello\ 1.0\}\ \{\}\ \{\{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello:1.0\ sayHello\ 1.0\}\ string\ \{\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/sayHello2:1.0\ sayHello2\ 1.0\}\ string\ \{\{in\ we\ string\}\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/podajLiczbe:1.0\ podajLiczbe\ 1.0\}\ long\ \{\}\ \{\}\}\\\r\n\{operation\ \{IDL:HelloApp2/Hello/sayHello_nowyObiekt:1.0\ sayHello_nowyObiekt\\\r\n1.0\}\ IDL:HelloApp2/Hello:1.0\ \{\}\ \{\}\}\ \{typedef\ \{IDL:HelloApp2/Hello/tab:1.0\ tab\\\r\n1.0\}\ \{array\ long\ 10\}\}\ \{operation\ \{IDL:HelloApp2/Hello/wektorRazy2:1.0\\\r\nwektorRazy2\ 1.0\}\ void\ \{\{in\ tab1\ IDL:HelloApp2/Hello/tab:1.0\}\ \{out\ tab2\\\r\nIDL:HelloApp2/Hello/tab:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/uruchomZwrotnaMet:1.0\ uruchomZwrotnaMet\ 1.0\}\ void\ \{\{in\\\r\nref\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/nowyObiekt:1.0\ nowyObiekt\ 1.0\}\ IDL:HelloApp2/Hello:1.0\\\r\n\{\}\ \{\}\}\ \{operation\ \{IDL:HelloApp2/Hello/powolnaMetoda:1.0\ powolnaMetoda\ 1.0\}\\\r\nvoid\ \{\}\ \{\}\}\ \{operation\ \{IDL:HelloApp2/Hello/callback:1.0\ callback\ 1.0\}\ void\\\r\n\{\{in\ o\ IDL:HelloApp2/WywZwrotne:1.0\}\}\ \{\}\}\ \{typedef\\\r\n\{IDL:HelloApp2/Hello/t_wiersz:1.0\ t_wiersz\ 1.0\}\ \{sequence\ long\}\}\ \{typedef\\\r\n\{IDL:HelloApp2/Hello/t_macierz:1.0\ t_macierz\ 1.0\}\ \{sequence\\\r\nIDL:HelloApp2/Hello/t_wiersz:1.0\}\}\ \{operation\\\r\n\{IDL:HelloApp2/Hello/sumaElementow:1.0\ sumaElementow\ 1.0\}\ long\ \{\{in\ m\\\r\nIDL:HelloApp2/Hello/t_macierz:1.0\}\}\ \{\}\}\}\}\}\}\}\r\n\r\n#\r\n#\ This\ is\ just\ to\ clear\ the\ interp\ from\ the\ ridiculously\ long\ string\ above\r\n#\r\n\r\nexpr\ 1\r\n\r\n\r\n\r\n\r\nZadanie\ 25\ -------------------------------------\r\n\r\n\r\nlappend\ auto_path\ combat-tcl-0.7.4\r\n\ \ #%\ /home/students/s396322/TAS/c/tclkit/lib/tcl8.4\ /home/students/s375146/TAS/c/tclkit/lib\ /home/students/s375146/TAS/c/tclkit/lib/tk8.4\ combat-tcl-0.7.4\r\npackage\ require\ combat\r\n\ \ #%\ 0.7\r\n\r\ncorba::init\r\n\ \ #%\ \r\n\r\nsource\ zad25/COS_ns.tcl\r\n\ \ #%\ 1\r\ncombat::ir\ add\ \$_ir_COS_ns\r\n\ \ #%\ \r\n\r\nset\ ns\ \[corba::string_to_object\ http://mhanckow.students.wmi.amu.edu.pl/pliki/nsd.ior\]\r\n\ \ #%\ _combat_obj_1\r\n\r\n\$ns\ list\ 10\ x\ y\;\ join\ \$x\ \\n\r\n\ \ #%\ binding_name\ \{\{id\ EventChannelFactory\ kind\ \{\}\}\}\ binding_type\ nobject\r\nbinding_name\ \{\{id\ PropertySetDefFactory\ kind\ \{\}\}\}\ binding_type\ nobject\r\nbinding_name\ \{\{id\ PropertySetFactory\ kind\ \{\}\}\}\ binding_type\ nobject\r\nbinding_name\ \{\{id\ ob_mhanckow\ kind\ \{\}\}\}\ binding_type\ nobject\r\nbinding_name\ \{\{id\ qwe\ kind\ \{\}\}\}\ binding_type\ nobject\r\nbinding_name\ \{\{id\ sample\ kind\ \{\}\}\}\ binding_type\ ncontext\r\n\r\nsource\ zad25/Hello3.tcl\r\n\ \ #%\ 1\r\ncombat::ir\ add\ \$_ir_Hello3\r\n\ \ #%\ \r\n\r\nclass\ WywolanieZwrotne\ \{\r\n\ \ inherit\ PortableServer::ServantBase\r\n\ \ public\ method\ _Interface\ \{\}\ \{\r\n\ \ \ \ return\ \"IDL:HelloApp2/WywZwrotne:1.0\"\r\n\ \ \}\r\n\ \ public\ method\ metoda\ \{\}\ \{\r\n\ \ \ \ puts\ \"WywolanieZwrotne,\ metoda\ (\$licz)\"\;\ incr\ licz\r\n\ \ \ \ \r\n\ \ \ \ #\ to\ dziala\ ok\ ...\r\n\ \ \ \ #set\ poac\ \[corba::resolve_initial_references\ \"POACurrent\"\]\r\n\ \ \ \ #puts\ \"get_object_id=\[\$poac\ get_object_id\]\"\r\n\ \ \}\r\n\ \ private\ variable\ licz\ 0\r\n\}\r\nset\ obj\ \[WywolanieZwrotne\ #auto\]\r\n\ \ #%\ wywolanieZwrotne2\r\nset\ poa\ \[corba::resolve_initial_references\ \"RootPOA\"\]\r\n\ \ #%\ ::Combat::PortableServer::rootPOA0\r\nset\ mgr\ \[\$poa\ the_POAManager\]\r\n\ \ #%\ ::Combat::PortableServer::POA::pOAManager0\r\nset\ ref\ \[\$poa\ servant_to_reference\ \$obj\]\r\n\ \ #%\ _combat_obj_5\r\n\r\n\$ns\ to_name\ \"qwe\"\r\n\ \ #%\ \{id\ qwe\ kind\ \{\}\}\r\n\r\n\$ns\ rebind\ \[\$ns\ to_name\ \"qwe\"\]\ \$ref\r\n\r\n\$ns\ bind_new_context\ \[\$ns\ to_name\ sample\]\ \r\n\ \ #%\ _combat_obj_7\r\n\r\n\$ns\ resolve\ \[\$ns\ to_name\ \"sample/qwe\"\]\r\n\ \ #%\ _combat_obj_8\r\n\r\nset\ ns2\ \[\$ns\ resolve\ \[\$ns\ to_name\ sample\]\]\r\n\ \ #%\ _combat_obj_9\r\n\r\n\$ns2\ list\ 10\ x\ y\;\ join\ \$x\ \\n\r\n\ \ #%\ binding_name\ \{\{id\ qwe\ kind\ \{\}\}\}\ binding_type\ nobject\r\n\r\n\r\n
